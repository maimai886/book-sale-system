"use strict";(self.webpackChunkbook_sale_system=self.webpackChunkbook_sale_system||[]).push([[361],{4603:function(e,t,n){n.d(t,{Ig:function(){return d},SA:function(){return f},OO:function(){return m},Lu:function(){return Z},qL:function(){return p},lj:function(){return v},Xx:function(){return h}});var r=n(4165),a=n(5861),s=n(1413),o=n(1243),u=n(7027),i=o.Z.create({baseURL:"http://35.77.212.217:3000",timeout:3e3});i.interceptors.request.use((function(e){var t=localStorage.getItem("token");return t&&(e.headers=(0,s.Z)((0,s.Z)({},e.headers),{},{Authorization:t})),e})),i.interceptors.response.use((function(e){console.log(e);var t=e.data,n=t.code,r=t.data,a=t.message;t.token;return 0==n?("register"!=r.action&&"login"!=r.action||u.ZP.open({type:"success",content:"".concat(a)}),e.data.data&&(e.data.data=c(e.data.data))):"\u8eab\u4efd\u8a8d\u8b49\u5931\u6557"==a?(localStorage.setItem("token","custom"),u.ZP.open({type:"warning",content:"\u307e\u3060\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u306a\u3044\u305f\u3081\u3001\u4e00\u90e8\u306e\u6a5f\u80fd\u304c\u4f7f\u3048\u307e\u305b\u3093\u304b\u3082\u3057\u308c\u307e\u305b\u3093"})):u.ZP.open({type:"warning",content:"".concat(a)}),e.data}));function c(e){if("object"===typeof e)for(var t in e){var n=t;t.includes("_")&&(n=t.replaceAll(/_([a-zA-Z])/g,(function(e,t){return t.toUpperCase()}))),n!==t&&(e[n]=e[t],delete e[t]),"object"===typeof e[n]&&(e[n]=c(e[n]))}return e}var l=function(e){return"get"===e.method&&(e.params=e.data),i(e)},d=function(e){return l({method:"post",url:"/api/v1/user/login",data:e})},p=function(e){return l({method:"post",url:"/api/v1/user/register",data:e})},f=function(e){return l({method:"post",url:"/api/v1/book/bookInfo",data:e})},m=function(e){return l({method:"post",url:"/api/v1/user/itemInfo",data:e})},h=function(e){return l({method:"post",url:"/api/v1/user/userInfo",data:e})},Z=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({method:"post",url:"/api/v1/purchase/purchaseInfo",data:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l({method:"post",url:"/api/v1/sell/sellInfo",data:t});case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},8361:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(4165),a=n(1413),s=n(5861),o=n(9439),u=n(2791),i=n(8185),c=n(9740),l=n(7309),d=n(7020),p="page03_main__WDU85",f="page03_sendMessage__sB5VQ",m=n(4603),h=n(9434),Z={userInfo:{userName:"",mail:"",addr:"",tel:"",memo:""},error:{}},v={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M848 359.3H627.7L825.8 109c4.1-5.3.4-13-6.3-13H436c-2.8 0-5.5 1.5-6.9 4L170 547.5c-3.1 5.3.7 12 6.9 12h174.4l-89.4 357.6c-1.9 7.8 7.5 13.3 13.3 7.7L853.5 373c5.2-4.9 1.7-13.7-5.5-13.7zM378.2 732.5l60.3-241H281.1l189.6-327.4h224.6L487 427.4h211L378.2 732.5z"}}]},name:"thunderbolt",theme:"outlined"},x=n(4291),b=function(e,t){return u.createElement(x.Z,(0,a.Z)((0,a.Z)({},e),{},{ref:t,icon:v}))};b.displayName="ThunderboltOutlined";var g=u.forwardRef(b),j=n(184),y={labelCol:{span:8},wrapperCol:{span:16}},w={required:"${label} \u306f\u3000\u5fc5\u8981",types:{email:"${label} is not a valid email!",password:"${label} is not a valid password!"}},k=function(){var e=(0,h.v9)((function(e){return{userName:e.userDataReducer.userName}})).userName,t=(0,u.useState)(Z),n=(0,o.Z)(t,2),v=n[0],x=n[1],b=i.Z.useForm(),k=(0,o.Z)(b,1)[0],I=(0,u.useState)(!1),_=(0,o.Z)(I,2),C=_[0],L=_[1],S=(0,u.useState)(!1),N=(0,o.Z)(S,2),q=N[0],z=N[1];function A(){return(A=(0,s.Z)((0,r.Z)().mark((function t(n){var s,o;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(new FormData).append("user_name",e),t.next=4,(0,m.Xx)(v);case 4:s=t.sent,o=s.data,x((0,a.Z)((0,a.Z)({},v),{},{mail:o.mail}));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,u.useEffect)((function(){!function(e){A.apply(this,arguments)}("")}),[]),(0,u.useEffect)((function(){console.log(v),k.setFieldsValue({user:{name:e,mail:v.mail}})}),[v]),(0,j.jsxs)("div",{className:p,children:[!q&&(0,j.jsxs)(i.Z,(0,a.Z)((0,a.Z)({},y),{},{name:"nest-messages",onFinish:function(e){console.log(e),L(!0)},validateMessages:w,size:"large",style:{maxWidth:800,width:"100%"},form:k,children:[(0,j.jsx)(i.Z.Item,{name:["user","name"],label:"\u540d\u524d",rules:[{required:!0}],children:(0,j.jsx)(c.Z,{readOnly:!0,disabled:!0})}),(0,j.jsx)(i.Z.Item,{name:["user","mail"],label:"\u30e1\u30fc\u30eb",rules:[{type:"email",required:!0}],children:(0,j.jsx)(c.Z,{})}),(0,j.jsx)(i.Z.Item,{name:["user","address"],label:"\u4f4f\u6240",children:(0,j.jsx)(c.Z,{})}),(0,j.jsx)(i.Z.Item,{name:["user","phone"],label:"\u96fb\u8a71\u756a\u53f7",children:(0,j.jsx)(c.Z,{type:"number"})}),(0,j.jsx)(i.Z.Item,{name:["user","memo"],label:"\u554f\u3044\u5408\u308f\u305b\u5185\u5bb9",rules:[{required:!0}],children:(0,j.jsx)(c.Z.TextArea,{})}),(0,j.jsxs)(i.Z.Item,{wrapperCol:(0,a.Z)((0,a.Z)({},y.wrapperCol),{},{offset:8}),children:[(0,j.jsx)(l.ZP,{type:"primary",htmlType:"submit",children:"Submit"}),(0,j.jsx)(d.Z,{title:"\u78ba\u8a8d",open:C,onOk:function(){L(!1),z(!0)},onCancel:function(){L(!1)},children:(0,j.jsx)("p",{children:"\u554f\u3044\u5408\u308f\u305b\u3092\u9001\u4fe1\u3057\u307e\u3059\u304b\uff1f"})})]})]})),q&&(0,j.jsxs)("div",{className:f,children:[(0,j.jsx)("div",{children:(0,j.jsx)(g,{style:{fontSize:100,color:"#3472ff"}})}),"\u9001\u4fe1\u5b8c\u4e86\u3057\u307e\u3057\u305f\uff01"]})]})}}}]);
//# sourceMappingURL=361.ea9f074e.chunk.js.map